<div *ngIf="isDataLoaded; else falsyTemplate"><!--render the page only after the data is loaded -->

  <div class="card">
      <div class="card-header">
        会员续费
      </div>
  </div>

  <div class="alert alert-danger err" [hidden]="!temp_err">
      <p *ngIf="error.name">{{error.name}}</p>
      <p *ngIf="error.phone">{{error.phone}}</p>
      <p *ngIf="error.amount">{{error.amount}}</p>
  </div>

  <form #clientForm=ngForm (ngSubmit)="onSubmit()">

    <div class="form-row">
      <div class="form-group col-md-2">
        <label for="inputName">会员姓名</label>
        <input type="text" name="name" class="form-control" id="inputName" [(ngModel)]="clientInfo.name" disabled>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-2">
        <label for="inputPhoneNum">电话</label>
        <input type="tel" name="phoneNum" class="form-control" id="inputPhoneNum" [(ngModel)]="clientInfo.phone" disabled>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-2">
        <label for="inputAmount">账户余额</label>
        <input type="number" step="0.01" name="amount" class="form-control" id="inputAmount" [(ngModel)]="clientInfo.amount" disabled>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-2">
        <label for="inputRechargeAmount">充值金额</label>
        <input type="number" step="0.01" name="recharge-amount" class="form-control" id="inputRechargeAmount" [(ngModel)]="rechargeAmount" placeholder="0.00" required>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-1.5">
        <button type="submit" class="btn btn-outline-success">确认修改</button>
      </div>

      <div class="form-group col-md-1">
          <button (click)="back()" class="btn btn-outline-primary">返回</button>
      </div>
    </div>

  </form>

</div><!-- end loading -->

<ng-template #falsyTemplate>
  <div class="renderPageLoading">
    <div class="lds-ellipsis"><span>加载中</span><div></div><div></div><div></div><div></div></div>
  </div>
</ng-template>